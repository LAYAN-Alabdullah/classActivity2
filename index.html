<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diriyah</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        /* ุฃููููุฉ ุงููุฑุดุฏ ุงูุณูุงุญู */
        #ai-icon {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #8b5a2b;
            color: white;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            z-index: 999;
        }
        /* ูุงูุฐุฉ ุงููุชุงุจุฉ */
        #ai-popup {
            display: none;
            position: fixed;
            bottom: 90px;
            right: 20px;
            width: 280px;
            background: white;
            border: 1px solid #ddd;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            padding: 10px;
            z-index: 1000;
            text-align: right;
        }
        #ai-popup textarea {
            width: 100%;
            border-radius: 5px;
            padding: 5px;
            border: 1px solid #ccc;
            font-family: 'Tajawal', sans-serif;
        }
        #ai-popup button {
            margin-top: 5px;
            width: 100%;
            background-color: #8b5a2b;
            color: white;
            border: none;
            padding: 8px;
            border-radius: 5px;
            cursor: pointer;
        }
        #ai-popup button:hover {
            background-color: #704621;
        }
        #ai-response {
            margin-top: 8px;
            font-size: 14px;
            white-space: pre-line;
        }
    </style>
</head>
<body>

    <header>
        <h1>ุงูุฏุฑุนูุฉ ุฌููุฑุฉ ุงูููููุฉ</h1>
    </header>

    <section class="image">
        <img src="https://media.istockphoto.com/id/1963259178/photo/diriyah-illuminated-old-town-walls-at-turaif-district-complex-at-night-riyadh-saudi-arabia.jpg?b=1&s=612x612&w=0&k=20&c=q7MwY43lklkPLvK2BMx4lZo2tlJzWBqaHnDQVdk3l-0=" alt="ุงูุฏุฑุนูุฉ">
    </section>

    <section class="about">
        <h2>ูุจุฐุฉ ุนู ุงูุฏุฑุนูุฉ</h2>
        <p>ุงูุฏุฑุนูุฉ ูู ุงูุนุงุตูุฉ ุงูุชุงุฑูุฎูุฉ ุงูุฃููู ููููููุฉ ุงูุนุฑุจูุฉ ุงูุณุนูุฏูุฉุ ุชูุน ุดูุงู ุบุฑุจ ุงูุฑูุงุถ. ุชุนุฏ ููุฏ ุงูุฏููุฉ ุงูุณุนูุฏูุฉ ุงูุฃูููุ ูุชุญุชูู ุนูู ููุงูุน ุชุงุฑูุฎูุฉ ุนุฑููุฉ ูุซู ุญู ุงูุทุฑููุ ุงูุฐู ุฃูุฏุฑุฌ ูู ูุงุฆูุฉ ุงููููุณูู ููุชุฑุงุซ ุงูุนุงููู.</p>
    </section>

    <section class="tourist-spots">
        <h2>ุฃุจุฑุฒ ุงููุนุงูู ุงูุณูุงุญูุฉ</h2>
        <ul>
            <li>
                <strong>ุญู ุงูุทุฑูู</strong>
                <p>ูุดุชูุฑ ุจุนูุงุฑุงุชู ุงูุชูููุฏูุฉ ูุฃุฒูุชู ุงูุถููุฉุ ููู ูููุน ูุณุฌู ุถูู ูุงุฆูุฉ ุงููููุณูู ููุชุฑุงุซ ุงูุนุงููู ููุง ูุญููู ูู ุชุงุฑูุฎ ุนุฑูู ูุชุฑุงุซ ูุฌุฏู ุฃุตูู.</p>
            </li>
            <li>
                <strong>ูุงุฏู ุญูููุฉ</strong>
                <p>ููุชุงุฒ ุจุฌูุงูู ุงูุทุจูุนู ุงูุฎูุงุจ ูููุงุธุฑู ุงูุทุจูุนูุฉ ุงูุณุงุญุฑุฉุ ููุง ูุฌุนูู ููุงููุง ูุซุงูููุง ูููุฒูุงุช ูุงูุงุณุชุฌูุงู.</p>
            </li>
            <li>
                <strong>ูุชุญู ุงูุฏุฑุนูุฉ</strong>
                <p>ูุนุฑุถ ุชุงุฑูุฎ ุงูุฏููุฉ ุงูุณุนูุฏูุฉ ุงูุฃููู ูู ุฎูุงู ูุฌููุนุงุช ุฃุซุฑูุฉ ููุงุฏุฑุฉ ุชุญูู ูุตุฉ ุชุฃุณูุณ ุงูููููุฉ ูุงูุนุงุฏุงุช ูุงูุชูุงููุฏ ูู ุชูู ุงูุญูุจุฉ.</p>
            </li>
            <li>
                <strong>ุจูุงุจุฉ ุงูุฏุฑุนูุฉ</strong>
                <p>ุชูุนุฏ ูุฏุฎูุงู ุชุงุฑูุฎููุง ูููุฏููุฉ ูุชุจุฑุฒ ุจูุฎุงูุชูุง ุงููุนูุงุฑูุฉุ ููุง ูุนูุณ ุงูุฏูุฑ ุงูุญููู ุงูุฐู ูุนุจุชู ุงูุฏุฑุนูุฉ ููุฑูุฒ ุชุฌุงุฑู ูุซูุงูู.</p>
            </li>
        </ul>
    </section>

    <section class="additional-info">
        <h2>ูุนูููุงุช ุฅุถุงููุฉ</h2>
        <p>ุชุดุชูุฑ ุงูุฏุฑุนูุฉ ุจุนุงุฏุงุชูุง ุงููุฌุฏูุฉ ุงูุฃุตููุฉุ ูุซู ุงููููุฉ ุงูุณุนูุฏูุฉ ูุญุณู ุงูุถูุงูุฉ. ููุง ุฃู ุชุงุฑูุฎูุง ูุนูุฏ ูููุฑู ุงูู15ุ ููุงูุช ูุฑูุฒูุง ุชุฌุงุฑููุง ูุซูุงูููุง ูุงููุง ูู ุงูุฌุฒูุฑุฉ ุงูุนุฑุจูุฉ.</p>
    </section>

    <section class="video">
        <h2>ููุฏูู ุนู ุซูุงูุฉ ุงูุฏุฑุนูุฉ</h2>
        <p>ููุฏูู ูุนุฑุถ ุงูุฏุฑุนูุฉุ ุชุงุฑูุฎูุงุ ูุฃูู ูุนุงูููุง ุงูุซูุงููุฉ ูุงูุณูุงุญูุฉ.</p>
        <div>
            <iframe src="https://www.youtube.com/embed/z_THy2FptGo" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
    </section>

    <footer>
        <p> ุงูุฏุฑุนูุฉ ุชุฑุญุจ ุจูู  </p>
    </footer>

    <!-- ุฃููููุฉ ุงููุฑุดุฏ ุงูุณูุงุญู -->
    <div id="ai-icon">๐บ๏ธ</div>

    <!-- ูุงูุฐุฉ ุงูุญูุงุฑ -->
    <div id="ai-popup">
        <textarea id="user-question" placeholder="ุงูุชุจ ุณุคุงูู..." rows="2"></textarea>
        <button id="send-question">ุฅุฑุณุงู</button>
        <div id="ai-response"></div>
    </div>

    <script>
        document.getElementById("ai-icon").addEventListener("click", () => {
            const popup = document.getElementById("ai-popup");
            popup.style.display = popup.style.display === "none" ? "block" : "none";
        });

        document.getElementById("send-question").addEventListener("click", async () => {
            const question = document.getElementById("user-question").value.trim();
            if (!question) return alert("ุงูุฑุฌุงุก ูุชุงุจุฉ ุณุคุงู ุฃููุงู");

            document.getElementById("ai-response").textContent = "โณ ุฌุงุฑู ุงููุนุงูุฌุฉ...";

            try {
                const res = await fetch("/api/tour-guide", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ question })
                });

                if (!res.ok) throw new Error(`ุฎุทุฃ: ${res.status}`);
                const data = await res.json();

                document.getElementById("ai-response").textContent = data.answer || "ูู ูุตู ุฑุฏ.";
            } catch (err) {
                console.error(err);
                document.getElementById("ai-response").textContent = "โ๏ธ ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุงูุงุชุตุงู ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู.";
            }
        });
    </script>

</body>
</html>
